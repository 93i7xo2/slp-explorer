<div class="transaction_box">
  <div class="lh-100">
    <h2 class="mb-0 text-white lh-100">Transaction</h2>
    <h6 class="mb-0"><%= tx.tx.h %></h6>
    <a href="#txgraph/<%= tx.tx.h %>">
      <button type="button" class="button button_red">View Graph</button>
    </a>
    <a target="_blank" href="https://explorer.bitcoin.com/bch/tx/<%= tx.tx.h %>">
      <button type="button" class="button button_green right">View on BCH Explorer</button>
    </a>
  </div>
</div>

<div class="rounded_row">
  <div class="col-md-6">
    <div class="bg-white rounded box-shadow mb-3">
      <div class="table-responsive">
        <table class="table">
          <thead>
            <tr>
              <th><h3 class="pl-3 pt-3 pb-1 mb-1">Details</h3></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th role="col">Type</th>
              <td><span class="mono"><%= tx.slp.detail.transactionType %></span></td>
            </tr>
            <tr>
              <th role="col">Block</th>
              <td><% if(tx.blk) { %><%= tx.blk.i %><% } else { %>Pending<% } %></td>
            </tr>
            <tr>
              <th role="col">Txid</th>
              <td><span class="mono"><a href="#tx/<%= tx.tx.h %>"><%= tx.tx.h %></a></span></td>
            </tr>

            <% if (tx.slp.detail.transactionType == 'GENESIS') { %>
              <tr>
                <th role="col">Creator</th>
                <td><span class="mono"><a href="#address/<%= tx.slp.detail.outputs[0].address %>"><%= tx.slp.detail.outputs[0].address %></a></span></td>
              </tr>
            <% } %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<div class="rounded_row">
  <div class="col-md-6">
    <div id="token-details-table-container" class="bg-white rounded box-shadow mb-3 table-container">
      <div class="table-responsive">
        <table class="table" id="token-details-table">
          <thead>
            <tr>
              <td>
                  <h3 class="pb-1 mb-1">Token Details</h3>
              </td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">Token Id</th>
              <td><span class="mono"><a href="/#token/<%= tx.slp.detail.tokenIdHex %>"><%= tx.slp.detail.tokenIdHex %></a></span></td>
            </tr>
            <tr>
              <th scope="row">Name</th>
              <td><%= token.tokenDetails.name %></td>
            </tr>
            <tr>
              <th scope="row">Symbol</th>
              <td><%= token.tokenDetails.symbol %></td>
            </tr>
            <tr>
              <th scope="row">Timestamp</th>
              <td><%= token.tokenDetails.timestamp %></td>
            </tr>
            <tr>
              <th scope="row">Quantity</th>
              <td><%= token.tokenDetails.genesisOrMintQuantity %></td>
            </tr>
            <tr>
              <th scope="row">Decimals</th>
              <td><%= token.tokenDetails.decimals %></td>
            </tr>
            <tr>
              <th scope="row">Document URI</th>
              <td><!--<a href="<%= token.tokenDetails.documentUri %>" target="_blank">--><%= token.tokenDetails.documentUri %><!--</a>--></td>
            </tr>
            <tr>
              <th scope="row">Document Checksum</th>
              <td><span class="mono"><%= token.tokenDetails.documentSha256Hex %></span></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>


<div class="rounded_row">
  <div class="input_output">
    <div class="bg-white rounded box-shadow mb-3">
      <h3 class="pl-3 pt-3 pb-1 mb-1">Inputs</h3>
      <div class="table-responsive">
        <table class="table">
          <thead>
            <tr>
              <th>txid</th>
              <th>address</th>
            </tr>
          </thead>
          <tbody>
            <% for (let m of tx.in) { %>
              <tr>
                <td><a href="/#tx/<%= m.e.h %>"><i class="material-icons">exit_to_app</i></a></td>
                <td><a href="/#address/<%= slpjs.Utils.toSlpAddress(m.e.a) %>"><%= slpjs.Utils.toSlpAddress(m.e.a) %></a></td>
              </tr>
            <% } %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <% if (tx.slp.detail.transactionType == 'SEND') { %>
    <div class="input_output">
      <div class="bg-white rounded box-shadow mb-3">
        <h3 class="pl-3 pt-3 pb-1 mb-1">Outputs</h3>
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th>amount</th>
                <th>address</th>
              </tr>
            </thead>
            <tbody>
              <% for (let m of tx.slp.detail.outputs) { console.log(m); %>
                <tr>
                  <td><%= m.amount %></td>
                  <td><a href="/#address/<%= m.address %>"><%= m.address %></a></td>
                </tr>
              <% } %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  <% } %>
</div>
