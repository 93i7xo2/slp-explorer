<div class="d-flex align-items-center p-3 my-3 text-white-50 page-header rounded box-shadow">
  <div class="lh-100">
    <h2 class="mb-0 text-white lh-100">Token</h2>
    <h6 class="mb-0"><%= token.tokenDetails.tokenIdHex %></h6>
    <a href="#tokengraph/<%= token.tokenDetails.tokenIdHex %>">
      <button type="button" class="btn btn-raised btn-warning mt-3">View TokenGraph</button>
    </a>
  </div>
</div>
<div class="row">
  <div class="col-md">
    <div id="token-details-table-container" class="bg-white rounded box-shadow mb-3 table-container">
      <div class="table-responsive">
        <table class="table" id="token-details-table">
          <thead>
            <tr>
              <td>
                  <h3 class="pb-1 mb-1">Details</h3>
              </td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">Token Id</th>
              <td><span class="mono"><a href="/#token/<%= token.tokenDetails.tokenIdHex %>"><%= token.tokenDetails.tokenIdHex %></a></span></td>
            </tr>
            <tr>
              <th scope="row">Name</th>
              <td><%= token.tokenDetails.name %></td>
            </tr>
            <tr>
              <th scope="row">Symbol</th>
              <td><%= token.tokenDetails.symbol %></td>
            </tr>
            <tr>
              <th scope="row">Timestamp</th>
              <td><%= token.tokenDetails.timestamp %></td>
            </tr>
            <tr>
              <th scope="row">Quantity</th>
              <td><%= token.tokenDetails.genesisOrMintQuantity %></td>
            </tr>
            <tr>
              <th scope="row">Decimals</th>
              <td><%= token.tokenDetails.decimals %></td>
            </tr>
            <tr>
              <th scope="row">Document URI</th>
              <td><a href="<%= token.tokenDetails.documentUri %>" target="_blank"><%= token.tokenDetails.documentUri %></a></td>
            </tr>
            <tr>
              <th scope="row">Document Checksum</th>
              <td><span class="mono word-break-all"><%= token.tokenDetails.documentSha256Hex %></span></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="col-md">
    <div id="token-stats-table-container" class="bg-white rounded box-shadow table-container">
      <div class="table-responsive">
        <table class="table" id="token-stats-table">
          <thead>
            <tr>
              <td>
                  <h3 class="pb-1 mb-1">Stats</h3>
              </td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th>Block Created</th>
              <td><%= token.tokenStats.block_created %></td>
            </tr>
            <tr>
              <th scope="row">Block Last Active Send</th>
              <td><%= token.tokenStats.block_last_active_send %></td>
            </tr>
            <tr>
              <th scope="row">Block Last Active Mint</th>
              <td><%= token.tokenStats.block_last_active_mint %></td>
            </tr>
            <tr>
              <th scope="row">Qty. Valid Txns Since Genesis</th>
              <td><%= token.tokenStats.qty_valid_txns_since_genesis %></td>
            </tr>
            <tr>
              <th scope="row">Qty. Valid Token Utxos</th>
              <td><%= token.tokenStats.qty_valid_token_utxos %></td>
            </tr>
            <tr>
              <th scope="row">Qty. Valid Token Addresses</th>
              <td><%= token.tokenStats.qty_valid_token_addresses %></td>
            </tr>
            <tr>
              <th scope="row">Qty. Token Minted</th>
              <td><%= token.tokenStats.qty_token_minted %></td>
            </tr>
            <tr>
              <th scope="row">Qty. Token Burned</th>
              <td><%= token.tokenStats.qty_token_burned %></td>
            </tr>
            <tr>
              <th scope="row">Qty. Token Circulating Supply</th>
              <td><%= token.tokenStats.qty_token_circulating_supply %></td>
            </tr>
            <tr>
              <th scope="row">Qty. Satoshis Locked Up</th>
              <td><%= token.tokenStats.qty_satoshis_locked_up %></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-md">
    <div id="token-addresses-table-container" class="my-3 p-3 bg-white rounded box-shadow table-container">
      <h3 class="border-bottom border-gray pb-1 mb-3">Addresses</h3>
      <% if (addresses.length === 0) { %>
        <h6>This token has no addresses... he's dead Jim</h6></h6>
      <% } else { %>
        <div class="table-responsive">
          <table class="table" id="token-addresses-table">
            <thead>
              <tr>
                <th>Address</th>
                <th>Token Balance</th>
              </tr>
            </thead>
            <tbody>
              <% for (let o of addresses) { %>
                <tr>
                  <td><span class="mono"><a href="/#address/<%= o.address %>"><%= o.address %></a></span></td>
                  <td><%= o.token_balance %></a></td>
                </tr>
              <% } %>
            </tbody>
          </table>
        </div>
      <% } %>
    </div>
  </div>
  <div class="col-md">
    <div id="token-transactions-table-container" class="my-3 p-3 bg-white rounded box-shadow table-container">
      <h3 class="border-bottom border-gray pb-1 mb-3">Transactions</h3>
      <div class="table-responsive">
        <table class="table" id="token-transactions-table">
          <thead>
            <tr>
              <th>Txid</th>
              <th>Type</th>
              <th>Amount</th>
              <th>Block Height</th>
              <th>Block Time</th>
            </tr>
          </thead>
          <tbody>
            <% for (let o of transactions) { %>
              <tr>
                <td><span class="mono"><a href="/#tx/<%= o.tx.h %>"><%= o.tx.h %></a></span></td>
                <td><%= o.slp.detail.transactionType %></td>
                <td>
                  <% if (o.slp.detail.transactionType === 'SEND') { %>
                    <%= app.extract_sent_amount_from_tx(o) %>
                  <% } %>
                  <% if (o.slp.detail.transactionType === 'GENESIS'
                      || o.slp.detail.transactionType === 'MINT') { %>
                    <%= o.slp.detail.genesisOrMintQuantity.amount %>
                  <% } %>
                </td>
                <td><% if (o.blk) { %><%= o.blk.i %><% } else { %>Unconfirmed<% } %></td>
                <td><% if (o.blk) { %><%= new Date(o.blk.t*1000).toLocaleString() %><% } %></td>
              </tr>
            <% } %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
